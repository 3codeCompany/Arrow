<html>

<head>
    <meta name="viewport" content="width=device-width">
    <meta charset="utf-8">
    <title><?= $this->data["config"]["title"] ?></title>
    <link href="<?= $this->data["config"]["favicon"] ?>" rel="icon" type="image/x-icon"/>
</head>
<body>

<?
/** @var \Symfony\Component\HttpFoundation\Request $request */
$request = \Arrow\Models\Project::getInstance()->getContainer()->get(\Symfony\Component\HttpFoundation\Request::class);
$data = $this->getData();
?>


<script>
    window.reactBackOfficeVar =  <?=json_encode([
        "basePath" => $request->getBasePath(),
        "inputProps" => $data,
        "panel" => [
            "icon" => $data["config"]["icon"],
            "title" => $data["config"]["title"],
            "menu" => \App\Models\Common\AdministrationExtensionPoint::getElements(),
            "onlyBody" => $data["onlyBody"],
            "user" => [
                "login" => $data["user"]["login"]
            ],
        ],
    ], JSON_PRETTY_PRINT) ?>;
</script>

<div id="root"></div>
<div id="modal-root"></div>

<? if (!$data["ARROW_DEV_MODE_FRONT"]) { ?>
    <script src="<?= $request->getBasePath() ?>/assets/dist/<?= $data["jsCompilationData"][0] ?>"></script>
<link rel="stylesheet"
      href="<?= $request->getBasePath() ?>/assets/dist/bundle-<?= $data["jsCompilationData"][1] ?>.css"/>
<? } else { ?>
    <script src="//localhost:3000/bundle.js" crossorigin></script>
<? } ?>


</body>
</html>
