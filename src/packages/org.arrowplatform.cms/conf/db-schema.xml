<?xml version="1.0"?>
<schema class-namespace="Arrow\Package\CMS">
    <table name="cms_pages" class="Page" baseclass="TreeNode">
        <trackers>
            <tracker  class="Arrow\Package\Common\ORMObjectsTracker" />
            <tracker  class="Arrow\Package\Common\ORMObjectsArchiver" />
        </trackers>
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"  size="11"/>
        <field name="parent_id" type="INTEGER" size="10"/>
        <field name="depth" type="INTEGER"/>
        <field name="sort" type="FLOAT"/>
        <field name="active" type="TINYINT" size="1" />
        <field name="name" type="VARCHAR" size="255"/>
        <field name="rewrite_name" type="VARCHAR" size="255"/>
        <field name="title" type="VARCHAR" size="500"/>
        <field name="keywords" type="VARCHAR" size="500"/>
        <field name="description" type="VARCHAR" size="500"/>
        <field name="header" type="VARCHAR" size="255"/>
        <field name="content" type="LONGVARCHAR" size="65535"/>
        <field name="language" type="VARCHAR" size="10"/>
        <field name="front_link" type="VARCHAR" size="255"/>
        <field name="admin_link" type="VARCHAR" size="255"/>

        <field name="style" type="VARCHAR" size="100"/>
        <field name="type" type="VARCHAR" size="100"/>
        <field name="sitemap" type="TINYINT" size="1"/>
        <field name="showinmenu" type="TINYINT" size="1"/>
    </table>
    <table name="cms_gallery" class="Gallery" >
        <trackers>
            <tracker  class="Arrow\Package\Common\ORMObjectsTracker" />
            <tracker  class="Arrow\Package\Common\ORMObjectsArchiver" />
        </trackers>
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="sort" type="INTEGER" size="10" default="0" />
        <field name="page_id" type="INTEGER" size="10"/>
        <field name="name" type="VARCHAR" size="255"/>
        <field name="description"  type="LONGVARCHAR" size="65535" />
    </table>


    <table name="cms_news" class="News" >
        <trackers>
            <tracker  class="Arrow\Package\Common\ORMObjectsTracker" />
            <tracker  class="Arrow\Package\Common\ORMObjectsArchiver" />
        </trackers>
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="partner_id" type="INTEGER" size="10"/>
        <field name="active" type="INTEGER"/>
        <field name="type" type="INTEGER"/>
        <field name="date" type="DATE"/>
        <field name="date2" type="DATE" default="null" />
        <field name="added" type="DATE"  default="null" />

        <field name="title" type="VARCHAR" size="100"/>
        <field name="title_hide" type="INTEGER"/>
        <field name="language" type="VARCHAR" size="100"/>
        <field name="content_short" type="LONGVARCHAR" size="5000"/>
        <field name="link" type="VARCHAR" size="500"/>
        <field name="content" type="LONGVARCHAR" size="5000"/>
        <field name="lang" type="VARCHAR" size="2"/>
        <field name="seo_title" type="VARCHAR" size="255"/>
        <field name="seo_keywords" type="VARCHAR" size="255"/>
        <field name="seo_description" type="VARCHAR" size="255"/>
        <field name="tmp_id" type="INTEGER"/>
        <field name="on_main" type="TINYINT" size="1"/>
    </table>
    <table name="cms_banners" class="CMSBanner">
        <trackers>
            <tracker  class="Arrow\Package\Common\ORMObjectsTracker" />
            <tracker  class="Arrow\Package\Common\ORMObjectsArchiver" />
        </trackers>
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="active" type="TINYINT" size="1"/>
        <field name="from" type="DATE"/>
        <field name="to" type="DATE"/>
        <field name="count" type="INTEGER"/>
        <field name="tmp_id" type="INTEGER"/>
        <field name="title" type="VARCHAR" size="255"/>
        <field name="text" type="VARCHAR" size="255"/>
        <field name="link" type="VARCHAR" size="255"/>
        <field name="sort" type="DOUBLE"/>
        <field name="place" type="INTEGER" size="20"/>
        <field name="category_id" type="INTEGER"/>
        <index name="f_key_index_cms_banners_place" type="">
            <index-field name="place"/>
        </index>
    </table>
    <table name="cms_articles" class="CMSArticle"  disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="active" type="TINYINT" size="1"/>
        <field name="archive" type="INTEGER"/>
        <field name="issue" type="INTEGER"/>
        <field name="free" type="TINYINT" size="1"/>
        <field name="title" type="VARCHAR" size="255"/>
        <field name="content" type="LONGVARCHAR" size="65000"/>
        <field name="date" type="DATE"/>
        <field name="tmp_id" type="INTEGER"/>
        <field name="page" type="INTEGER" size="1"/>
        <field name="region" type="INTEGER" size="1"/>
        <field name="section" type="INTEGER" size="1"/>
        <field name="sort" type="INTEGER"/>
        <field name="subtitle" type="VARCHAR" size="255"/>
        <field name="category_tag_1" type="VARCHAR" size="255"/>
        <field name="category_tag_2" type="VARCHAR" size="255"/>
        <field name="category_tag_3" type="VARCHAR" size="255"/>
        <field name="on_main" type="INTEGER" size="1"/>
        <field name="list_short_text" type="LONGVARCHAR" size="65000"/>
        <field name="type" type="VARCHAR" size="15"/>
        <field name="seo_rewrite" type="VARCHAR" size="255"/>
        <field name="seo_title" type="VARCHAR" size="255"/>
        <field name="seo_keywords" type="VARCHAR" size="255"/>
        <field name="seo_description" type="VARCHAR" size="255"/>
        <index name="f_key_index_cms_articles_issue" type="">
            <index-field name="issue"/>
        </index>
        <foreign-key foreignTable="utils_dictionary" onUpdate="" onDelete="">
            <reference local="section" foreign="id"/>
        </foreign-key>
    </table>
    <table name="cms_articles_connections" class="CMSArticlesConnections" baseclass="Persistent" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="article_id" type="INTEGER"/>
        <field name="object_id" type="INTEGER"/>
        <field name="model" type="VARCHAR" size="255"/>
        <index name="f_key_index_cms_articles_connections_article_id" type="">
            <index-field name="article_id"/>
        </index>
        <foreign-key foreignTable="cms_news" onUpdate="" onDelete="">
            <reference local="article_id" foreign="id"/>
        </foreign-key>
    </table>
</schema>
