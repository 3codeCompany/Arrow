<?xml version="1.0"?>
<schema class-namespace="Arrow\Package\Communication">
    <table name="comm_contact_form" class="ContactForm">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="date" type="TIMESTAMP" />
        <field name="firstname" type="VARCHAR" size="255"/>
        <field name="lastname" type="VARCHAR" size="255"/>
        <field name="email" type="VARCHAR" size="255"/>
        <field name="telephone" type="VARCHAR" size="255"/>
        <field name="topic" type="VARCHAR" size="255"/>
        <field name="content" type="LONGVARCHAR" size="65000"/>
        <field name="response" type="INTEGER" size="1"/>
    </table>
    <!--<table name="comm_newsletter_adressee" class="CommNewsletterAdressee" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="email" type="VARCHAR" size="255"/>
        <field name="status" type="TINYINT"/>
        <field name="sindin" type="TIMESTAMP"/>
        <field name="sindout" type="TIMESTAMP"/>
        <field name="_state" type="TINYINT"/>
    </table>
    <table name="comm_sended_mails" class="SendedMail" >
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="type" type="VARCHAR" size="20"/>
        <field name="data_add" type="TIMESTAMP"/>
        <field name="content" type="LONGVARCHAR" size="65000"/>
        <field name="email" type="VARCHAR" size="100"/>
        <field name="active" type="TINYINT"/>
        <field name="sended" type="TINYINT"/>
        <field name="model" type="VARCHAR" size="255"/>
        <field name="error" type="VARCHAR" size="255"/>
        <field name="object_id" type="INTEGER"/>
    </table>
    <table name="comm_message" class="CommMessage" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="date" type="TIMESTAMP" required="true"/>
        <field name="size" type="INTEGER" required="true"/>
        <field name="flags" type="TINYINT"/>
        <field name="type" type="TINYINT"/>
        <field name="contact_id" type="INTEGER"/>
        <field name="subject" type="VARCHAR" size="255"/>
        <field name="from" type="VARCHAR" size="255"/>
        <field name="to" type="VARCHAR" size="255"/>
        <field name="message_id" type="VARCHAR" required="true" size="255"/>
        <field name="plain" type="LONGVARCHAR" size="65000"/>
        <field name="html" type="LONGVARCHAR" size="65000"/>
    </table>
    <table name="comm_message_attachment" class="CommMessageAttachments" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="message_id" type="INTEGER" required="true"/>
        <field name="cid" type="VARCHAR" required="true" size="255"/>
        <field name="filename" type="VARCHAR" required="true" size="255"/>
        <field name="path" type="VARCHAR" required="true" size="255"/>
        <index name="f_key_index_comm_message_attachment_message_id" type="">
            <index-field name="message_id"/>
        </index>
        <foreign-key foreignTable="comm_message" onUpdate="" onDelete="">
            <reference local="message_id" foreign="id"/>
        </foreign-key>
    </table>
    <table name="comm_mailbox" class="CommMailbox" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="left_id" type="INTEGER"/>
        <field name="right_id" type="INTEGER"/>
        <field name="parent_id" type="INTEGER"/>
        <field name="depth" type="INTEGER"/>
        <field name="flags" type="TINYINT"/>
        <field name="address_id" type="INTEGER" required="true"/>
        <field name="imap_name" type="VARCHAR" required="true" size="255"/>
        <field name="name" type="VARCHAR" required="true" size="255"/>
        <field name="_state" type="INTEGER" required="true"/>
    </table>
    <table name="comm_mailbox_message" class="CommMailboxMessage" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="_state" type="INTEGER"/>
        <field name="mailbox_id" type="INTEGER" required="true"/>
        <field name="message_uid" type="INTEGER" required="true"/>
        <field name="message_id" type="INTEGER"/>
        <field name="next_sync" type="TIMESTAMP" required="true"/>
        <index name="f_key_index_comm_message_attachment_message_id" type="">
            <index-field name="message_id"/>
        </index>
        <foreign-key foreignTable="comm_mailbox" onUpdate="" onDelete="">
            <reference local="mailbox_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="comm_message" onUpdate="" onDelete="">
            <reference local="message_id" foreign="id"/>
        </foreign-key>
    </table>
    <table name="comm_internal_message" class="CommInternalMessage" disabled="true">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="topic" type="VARCHAR" size="50"/>
        <field name="content" type="LONGVARCHAR" size="65000"/>
        <field name="id_parent" type="INTEGER"/>
        <field name="id_user_from" type="INTEGER"/>
        <field name="id_user_to" type="INTEGER"/>
        <field name="state" type="INTEGER"/>
        <field name="date_create" type="TIMESTAMP"/>
        <index name="f_key_index_comm_internal_message_id_user_from" type="">
            <index-field name="id_user_from"/>
        </index>
        <index name="f_key_index_comm_internal_message_id_user_to" type="">
            <index-field name="id_user_to"/>
        </index>
        <foreign-key foreignTable="access_user" onUpdate="" onDelete="">
            <reference local="id_user_from" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="access_user" onUpdate="" onDelete="">
            <reference local="id_user_to" foreign="id"/>
        </foreign-key>
    </table>
    <table name="comm_mail_templates" class="MailTemplate">
        <field name="id" type="INTEGER" primaryKey="true" autoIncrement="true"/>
        <field name="name" type="VARCHAR" size="50"/>
        <field name="code_name" type="VARCHAR" size="20"/>
        <field name="title" type="VARCHAR" size="50"/>
        &lt;!&ndash;<field name="sender_name" type="VARCHAR" size="50"/>
        <field name="sender_email" type="VARCHAR" size="50"/>
        &ndash;&gt;
        <field name="reply_to" type="VARCHAR" size="50"/>
        <field name="description" type="LONGVARCHAR" size="400"/>
        <field name="content" type="LONGVARCHAR" size="65000"/>
        <field name="group" type="VARCHAR" size="20"/>
        <field name="type" type="VARCHAR" size="10"/>
    </table>-->

</schema>
